# yaml-language-server: $schema=https://raw.githubusercontent.com/quintush/helm-unittest/master/schema/helm-testsuite.json
suite: priorityClassName on StatefulSet pod template
templates:
- configs.yaml
- statefulset.yaml
tests:
- it: priorityClassName omitted when not set
  template: statefulset.yaml
  asserts:
  - notExists:
      path: spec.template.spec.priorityClassName

- it: priorityClassName set when provided
  template: statefulset.yaml
  set:
    priorityClassName: high-priority
  asserts:
  - equal:
      path: spec.template.spec.priorityClassName
      value: high-priority
